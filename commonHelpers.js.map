{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet gallery = new SimpleLightbox('.small-image-item a');\n\nconst refs = {\n  searchFormElement: document.querySelector('.search-form'),\n  searchInput: document.querySelector('.search-input'),\n  searchBtn: document.querySelector('.search-btn'),\n  imagesMarkUp: document.querySelector('.images-markup'),\n};\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst KEY = '41860696-2902f93b7313ed5ba840414ce';\n\nlet query = '';\n\nrefs.searchFormElement.addEventListener('submit', searchQuery);\n\nfunction searchQuery(e) {\n  e.preventDefault();\n  query = refs.searchInput.value.toLowerCase();\n  refs.imagesMarkUp.innerHTML = `<li><span class=\"loader\"></span></li>`;\n  fetchImages();\n}\n\nfunction fetchImages() {\n  fetch(\n    `${BASE_URL}?key=${KEY}&q=${query}&image-type=photo&orientation=horizontal&safesearch=true&per_page=21`\n  )\n    .then(r => {\n      return r.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        refs.imagesMarkUp.innerHTML = ``;\n        iziToast.error({\n          theme: 'dark',\n          position: 'topRight',\n          maxWidth: '392px',\n          messageSize: '16px',\n          messageLineHeight: '24px',\n          backgroundColor: '#EF4040',\n          messageColor: '#FAFAFB',\n          message:\n            'Sorry, there are no images matching your search query. Please, try again!',\n          progressBarColor: '#B51B1B',\n        });\n        return;\n      }\n      const markUp = data.hits.reduce(\n        (html, image) =>\n          html +\n          `<li class=\"small-image-item\"><a href=\"${image.largeImageURL}\"><img src=\"${image.webformatURL}\" class=\"small-image\" alt=\"${image.tags}\" /></a><ul class=\"description-image-list\"><li class=\"description-image-item\"><p class=\"description-title\">Likes</p><p class=\"description-value\">${image.likes}</p></li>\n          <li class=\"description-image-item\"><p class=\"description-title\">Views</p><p class=\"description-value\">${image.views}</p></li>\n          <li class=\"description-image-item\"><p class=\"description-title\">Comments</p><p class=\"description-value\">${image.comments}</p></li>\n          <li class=\"description-image-item\"><p class=\"description-title\">Downloads</p><p class=\"description-value\">${image.downloads}</p></li></ul></li>`,\n        ''\n      );\n      refs.imagesMarkUp.innerHTML = markUp;\n    })\n    .catch(error => {\n      refs.imagesMarkUp.innerHTML = ``;\n      iziToast.error({\n        theme: 'dark',\n        position: 'topRight',\n        maxWidth: '392px',\n        messageSize: '16px',\n        messageLineHeight: '24px',\n        backgroundColor: '#EF4040',\n        messageColor: '#FAFAFB',\n        message: `Something went wrong:: ${error}`,\n        progressBarColor: '#B51B1B',\n      });\n    })\n    .finally(e => {\n      gallery.refresh();\n    });\n}\n"],"names":["gallery","SimpleLightbox","refs","BASE_URL","KEY","query","searchQuery","e","fetchImages","data","iziToast","markUp","html","image","error"],"mappings":"6vBAKA,IAAIA,EAAU,IAAIC,EAAe,qBAAqB,EAEtD,MAAMC,EAAO,CACX,kBAAmB,SAAS,cAAc,cAAc,EACxD,YAAa,SAAS,cAAc,eAAe,EACnD,UAAW,SAAS,cAAc,aAAa,EAC/C,aAAc,SAAS,cAAc,gBAAgB,CACvD,EAEMC,EAAW,2BACXC,EAAM,qCAEZ,IAAIC,EAAQ,GAEZH,EAAK,kBAAkB,iBAAiB,SAAUI,CAAW,EAE7D,SAASA,EAAYC,EAAG,CACtBA,EAAE,eAAc,EAChBF,EAAQH,EAAK,YAAY,MAAM,YAAW,EAC1CA,EAAK,aAAa,UAAY,wCAC9BM,GACF,CAEA,SAASA,GAAc,CACrB,MACE,GAAGL,SAAgBC,OAASC,uEAC7B,EACE,KAAK,GACG,EAAE,MACV,EACA,KAAKI,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BP,EAAK,aAAa,UAAY,GAC9BQ,EAAS,MAAM,CACb,MAAO,OACP,SAAU,WACV,SAAU,QACV,YAAa,OACb,kBAAmB,OACnB,gBAAiB,UACjB,aAAc,UACd,QACE,4EACF,iBAAkB,SAC5B,CAAS,EACD,MACD,CACD,MAAMC,EAASF,EAAK,KAAK,OACvB,CAACG,EAAMC,IACLD,EACA,yCAAyCC,EAAM,4BAA4BA,EAAM,0CAA0CA,EAAM,wJAAwJA,EAAM;AAAA,kHACvLA,EAAM;AAAA,qHACHA,EAAM;AAAA,sHACLA,EAAM,+BACpH,EACR,EACMX,EAAK,aAAa,UAAYS,CACpC,CAAK,EACA,MAAMG,GAAS,CACdZ,EAAK,aAAa,UAAY,GAC9BQ,EAAS,MAAM,CACb,MAAO,OACP,SAAU,WACV,SAAU,QACV,YAAa,OACb,kBAAmB,OACnB,gBAAiB,UACjB,aAAc,UACd,QAAS,0BAA0BI,IACnC,iBAAkB,SAC1B,CAAO,CACP,CAAK,EACA,QAAQP,GAAK,CACZP,EAAQ,QAAO,CACrB,CAAK,CACL"}